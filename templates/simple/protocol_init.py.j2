{% for import_from, imported in domains %}
from .{{ import_from }} import {{ imported }}
{% endfor %}

__all__ = ["ProtocolMixin"]


class ProtocolMixin(object):
    def __init__(self, *args, **kwargs):
        {% if which == 'gevent' %}
        super(ProtocolMixin, self).__init__(*args, **kwargs)
        {% else %}
        super().__init__(*args, **kwargs)
        {% endif %}
        {% for _, imported in domains %}
        self.{{ imported }}{% if which == "asyncio" %}: {{ imported }}{% endif %} = {{ imported }}(self)
        {% endfor %}

